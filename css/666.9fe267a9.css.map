{"version":3,"file":"css/666.9fe267a9.css","mappings":";AAsFA;EACE,YAAY;AACd","sources":["webpack://pok/./src/components/InstrumentSelectorDialog.vue"],"sourcesContent":["<template>\n  <q-dialog v-model=\"showDialog\">\n      <q-card>\n        <q-toolbar>\n          <q-toolbar-title>Instrumentauswahl</q-toolbar-title>\n\n          <q-btn flat round dense icon=\"close\" v-close-popup />\n        </q-toolbar>\n\n        <q-card-section>\n          Wähle aus, welches Instrument du gerne über die App steuern möchtest.\n        </q-card-section>\n\n        <q-card-section class=\"flex flex-center\">\n          <div class=\"column q-pa-md full-width\">\n              <q-btn padding='sm lg' rounded\n                      no-caps color=\"primary\" size='lg' \n                      class='full-width q-mb-md' \n                      :label='instrument.name'\n                      v-for=\"instrument in instruments\" :key=\"instrument.id\"\n                      @click=\"selectInstrument(instrument.name, instrument.id, instrument.type)\">\n              </q-btn>\n          </div>\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n\n</template>\n\n<script>\nimport { useInstrumentStore } from 'stores/instruments-store';\nimport { getInstruments } from 'src/services/apiServices';\n\nexport default {\n  setup() {\n    const store = useInstrumentStore();\n    const setInstrument = (id, name, type) => {\n      store.setSelectedInstrument(id, name, type);\n    };\n\n    return { setInstrument };\n  },\n\n\n  name: 'InstrumentSelectorDialog',\n  data() {\n    return {\n      isOpen: false,\n      instruments: [],\n      loading: true,\n      showDialog: false\n    };\n  },\n  mounted() {\n    this.fetchInstruments();\n  },\n  methods: {\n    fetchInstruments() {\n      getInstruments()\n        .then(response => {\n          this.instruments = response.data;\n          this.loading = false;\n        })\n        .catch(error => {\n          console.error('Error fetching instruments:', error);\n          this.loading = false;\n        });\n    },\n    show() {\n      this.showDialog= true;\n    },\n    close() {\n      this.showDialog=false;\n    },\n    selectInstrument(name, id, type) {\n      const store = useInstrumentStore();\n      console.log(`Instrument selected! '${name}' '${id}' '${type}'`);\n      this.setInstrument(id, name, type);\n      this.close();\n      this.$router.push('/instrument');\n    }\n  }\n}\n</script>\n\n<style scoped>\n.fixed-width-button {\n  width: 220px;\n}\n</style>\n"],"names":[],"sourceRoot":""}