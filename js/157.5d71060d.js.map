{"version":3,"file":"js/157.5d71060d.js","mappings":"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","sources":["webpack://pok/./src/services/apiServices.js","webpack://pok/./src/stores/instruments-store.js","webpack://pok/./src/pages/TunerPage.vue","webpack://pok/./src/pages/TunerPage.vue?ce35","webpack://pok/./src/pages/TunerPage.vue?2c1c","webpack://pok/./src/pages/TunerPage.vue?3253"],"sourcesContent":["import axios from 'axios';\n\n//const apiUrl = process.env.VUE_APP_API_URL || 'http://192.168.1.9:8000';\n//const apiUrl = 'https://room.proben-ohne-krach.de:443';\n//const apiUrl = 'http://192.168.2.111:8000';\n\nconst apiUrl = process.env.POK_API_URL\n\nexport const apiClient = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const recClient = axios.create({\n  baseURL: process.env.REC_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// General room services\nexport const getRoomPresetCollections = () => apiClient.get('/room/presetcollections');\nexport const getCurrentRoomPresetCollection = () => apiClient.get('/room/presetcollections/current');\nexport const selectCurrentRoomPresetCollection = (id) => apiClient.put('/room/presetcollections/current', null, { params: { id: id } } );\nexport const resetRoom = () => apiClient.post('/room/reset');\nexport const getWifiQrImage = () => apiClient.get('/room/wifi-qr-code', { responseType: 'blob' });\nexport const getControlQrImage = () => apiClient.get('/room/control-qr-code', { responseType: 'blob' });\nexport const getControlQrImage2 = () => apiClient.get('/room/control-qr-code2', { responseType: 'blob' });\nexport const getRoomStatus = () => apiClient.get('/room');\n\n// Instrument services\nexport const getInstruments = () => apiClient.get('/instruments');\nexport const getInstrumentById = (id) => apiClient.get(`/instruments/${id}`);\nexport const updateInstrumentVolume = (id, volume) => apiClient.patch(`/instruments/${id}/volume`, null, { params: { volume: volume }  });\nexport const updateInstrumentPanorama = (id, panorama) => apiClient.patch(`/instruments/${id}/panorama`, null, { params: { panorama: panorama }  });\nexport const selectInstrumentPreset = (id, preset_id) => apiClient.patch(`/instruments/${id}/preset`, null,  { params: { preset_id: preset_id } } );\nexport const toggleInstrumentMute = (id) => apiClient.patch(`/instruments/${id}/mute`);\n\n// Tuner services\nexport const getTunerState = (id) => apiClient.get(`/instruments/${id}/tuner`);\nexport const turnTunerOn = (id) => apiClient.post(`/instruments/${id}/tuner/on`);\nexport const turnTunerOff = (id) => apiClient.post(`/instruments/${id}/tuner/off`);\nexport const getTuning = (id) => apiClient.get(`/instruments/${id}/tuning`);\n\n// Recorder services\nexport const api_startRecording = (name, start_time) => recClient.post('/recorder/start', null, { params: { name: name, start_time: start_time } });\nexport const api_stopRecording = () => recClient.post('/recorder/stop');\nexport const api_playRecording = (id) => recClient.post(`/recorder/play/${id}`);\nexport const api_deleteRecording = (id) => recClient.delete(`/recorder/delete/${id}`);\nexport const api_getRecordings = (id) => recClient.get('/recorder/list-recordings');\nexport const api_getRecorderStatus = () => recClient.get('/recorder/status');\nexport const api_stopPlayback = () => recClient.post('/recorder/stop-playback');","import { defineStore } from 'pinia'\nimport { getCurrentRoomPresetCollection } from '@/services/apiServices';\nimport { api } from '@/boot/axios';\n\nexport const useInstrumentStore = defineStore('instrumentStore', {\n  state: () => ({\n    isRecorderActive: false,\n    isBackendAvailable: false,\n    selectedInstrumentId: null,\n    selectedInstrumentName: null,\n    selectedInstrumentType: null,\n    selectedPresetCollectionName: null,\n    isPreventScreenDimming: false,\n    roomStatus: null,\n  }),\n  actions: {\n    togglePreventScreenDimming() {\n      this.isPreventScreenDimming = !this.isPreventScreenDimming;\n    },\n    setPreventScreenDimming(value) {\n      this.isPreventScreenDimming = value;\n    },\n    checkBackendAvailability() {\n      console.log('Checking backend availability...');\n      const response =  api.get('room')\n        .then(response => {\n          if (response.status === 200) {\n            this.isBackendAvailable = true;\n            this.roomStatus = response.data;\n\n            this.updateStore();\n            \n          } else {\n            this.isBackendAvailable = false;\n          }\n        })\n        .catch(error => {\n          console.log('Backend service is not available:', error);\n          this.isBackendAvailable = false;\n        })\n    },\n    setSelectedInstrument(id, name, type){\n      this.selectedInstrumentId = id;\n      this.selectedInstrumentName = name;\n      this.selectedInstrumentType = type;\n    },\n    setPresetCollection(name){\n      this.selectedPresetCollectionName = name;\n    },\n    updateStore() {\n      getCurrentRoomPresetCollection()\n        .then(response => {\n          this.selectedPresetCollectionName = response.data.name;\n        })\n        .catch(error => {\n          console.error('Error getting preset collection:', error);\n        });\n    },\n    setRecorderActive(value) {\n      console.log('Setting recorder active:', value);\n      this.isRecorderActive = value;\n    }\n  },\n  getters: {\n    getSelectedPresetCollectionName: (state) => state.selectedPresetCollectionName,\n    getSelectedInstrumentId: (state) => state.selectedInstrumentId,\n    getSelectedInstrumentName: (state) => state.selectedInstrumentName,\n    getSelectedInstrumentType: (state) => state.selectedInstrumentType,\n    selectedInstrumentHasTuner: (state) => state.selectedInstrumentType === 'guitar',\n    getRecorderActive: (state) => state.isRecorderActive,\n  }\n});\n","<template>\n  <q-page>\n      <q-card flat>\n        <q-card-section class=\"flex flex-center\" style=\"margin-top: 90px;\">\n          <div v-if='isTunerOn' class=\"tuner-device\">\n            <div class=\"tuner-container\">\n              <div class=\"circle fixed-background-circle\"></div>\n              <div class=\"circle moving-circle\" :class=\"isInTune\" :style=\"{ left: centsToPosition }\" ></div>\n              <div class=\"circle note-circle\">{{ note }}</div>\n              <div class=\"triangle left-triangle\" :style=\"{ display: leftTriangleDisplayStyle }\"></div>\n              <div class=\"triangle right-triangle\" :style=\"{ display: rightTriangleDisplayStyle }\"></div>\n            </div>\n\n            <div class=\"cents-container\">\n                <div>{{ displayCents }}</div>\n            </div>\n          </div>\n\n          <div v-else class=\"column full-width\">\n            <div>\n            Du bist noch nicht fertig mit dem Stimmen deines Instruments?\n            </div>\n            <div class=\"column q-mt-xl\">\n            <q-btn no-caps rounded color=\"primary\" size='xl' label=\"Weiter stimmen\" @click=\"restartTuner\"/>\n            </div>\n          </div>\n\n        </q-card-section>\n      </q-card>\n\n      <q-linear-progress\n      :value=\"progress\"\n      size=\"lg\"\n      stripe\n      color=\"secondary\"\n      position=\"absolute\"\n      class=\"progress-bar-bottom\"\n      />\n\n  </q-page>\n</template>\n\n<script>\nimport { useInstrumentStore } from 'stores/instruments-store';\nimport { turnTunerOn, turnTunerOff, getTuning } from '@/services/apiServices';\n\nexport default {\n  setup() {\n    const TUNING_DURATTION_MAX = 90000; // how long to run one turing iteration in milliseconds\n    const TUING_UPDATE_INTERVAL = 200;  // how often to update tuning in milliseconds\n\n    return { TUNING_DURATTION_MAX, TUING_UPDATE_INTERVAL };\n  },\n  data() {\n    return {\n      isTunerOn: true,\n      timer: null,\n      note: 'E',\n      cents: '0',\n      intervalId: null,\n      instrumentId: this.$route.params.id,\n      progress: 1,\n      fetchTunerIteration: 0,\n    };\n  },\n  computed: {\n    isInTune() {\n      return {\n        'green-circle': this.cents >= -2 && this.cents <= 2\n      };\n    },\n    displayCents: {\n      get() {\n        return this.cents + ' ct';\n      }\n    } ,\n    centsToPosition: {\n      get() {\n        const deviation = Math.min(Math.max(parseInt(this.cents), -10), 10);\n        return ((deviation * 5) + 75) + 'px';\n      }\n    } ,\n    leftTriangleDisplayStyle: {\n      get() {\n        if (this.cents < -2) {\n          return 'block';\n        } else {\n          return 'none';\n        }\n      },\n    },\n    rightTriangleDisplayStyle: {\n      get() {\n        if (this.cents > 2) {\n          return 'block';\n        } else {\n          return 'none';\n        }\n      }\n    }\n  },\n  mounted() {\n    this.startReminderTimer();\n    this.startTuner();\n    this.fetchTuning();\n\n    if (this.instrumentId)\n    {\n      this.intervalId = setInterval(this.fetchTuning, this.TUING_UPDATE_INTERVAL);\n    }\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n  },\n  unmounted() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n\n    this.stopTuner();\n  },\n  methods: {\n    restartTuner() {\n      this.fetchTunerIteration = 0;\n      this.isTunerOn = true;\n      this.startTuner();\n      this.fetchTuning();\n      this.startReminderTimer();\n\n      if (this.instrumentId)\n      {\n        this.intervalId = setInterval(this.fetchTuning, this.TUING_UPDATE_INTERVAL);\n      }\n    },\n    startReminderTimer()\n    {\n      this.timer = setTimeout(() => {\n        this.isTunerOn = false;\n\n        if (this.intervalId) {\n          clearInterval(this.intervalId);\n          this.intervalId = null;\n        }\n\n        this.stopTuner();\n      }, this.TUNING_DURATTION_MAX);\n    },  \n    startTuner() {\n        if (!this.instrumentId)\n        {\n          return;\n        }\n\n        turnTunerOn(this.instrumentId)\n        .catch(error => {\n          console.error('Error starting tuner:', error);\n        });\n    },\n    stopTuner() {\n        if (!this.instrumentId)\n        {\n          return;\n        }\n\n        turnTunerOff(this.instrumentId)\n        .catch(error => {\n          console.error('Error stopping tuner:', error);\n        });\n    },\n    fetchTuning() {\n      if (!this.instrumentId)\n      {\n        return;\n      }\n\n      this.progress = 1 - (this.fetchTunerIteration++ / (this.TUNING_DURATTION_MAX / this.TUING_UPDATE_INTERVAL));\n\n      getTuning(this.instrumentId)\n        .then(response => {\n          this.note = response.data.note;\n          this.cents = response.data.deviation;\n        })\n        .catch(error => {\n          console.error('Error fetching tuning:', error);\n        });\n\n    },\n  }\n}\n</script>\n\n<style scoped>\n.progress-bar-bottom {\n  bottom: 0;\n  left: 0;\n  right: 0;\n  position: fixed;  /* Ensure the progress bar is fixed at the bottom */\n}\n\n.tuner-device {\n    width: 300px;\n}\n\n.tuner-container {\n    width: 100%;\n    height: 200px;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 20px;\n}\n\n.circle {\n    width: 150px;\n    height: 150px;\n    border-radius: 50%;\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 100px;\n}\n\n.fixed-background-circle {\n    background-color: rgb(232,232,232);\n    z-index: 1;\n}\n\n.moving-circle {\n    background-color: rgb(253,178, 36);\n    transition: left 0.1s ease; /* Add transition for smooth movement */\n    z-index: 2; \n}\n\n.note-circle {\n    background-color: transparent;\n    color: black;\n    font-family: sans-serif;\n    z-index: 3; \n}\n\n.green-circle {\n    background-color: green;\n}\n\n.triangle {\n    width: 0;\n    height: 0;\n    border-top: 20px solid transparent;\n    border-bottom: 20px solid transparent;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n}\n\n.left-triangle {\n    border-left: 20px solid white;\n    left: 0;\n}\n\n.right-triangle {\n    border-right: 20px solid white;\n    right: 0;\n}\n\n.cents-container {\n    font-size: 40px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n}\n</style>","export * from \"-!../../node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./TunerPage.vue?vue&type=template&id=162d7a94&scoped=true\"","export { default } from \"-!../../node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./TunerPage.vue?vue&type=script&lang=js\"; export * from \"-!../../node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./TunerPage.vue?vue&type=script&lang=js\"","import { render } from \"./TunerPage.vue?vue&type=template&id=162d7a94&scoped=true\"\nimport script from \"./TunerPage.vue?vue&type=script&lang=js\"\nexport * from \"./TunerPage.vue?vue&type=script&lang=js\"\n\nimport \"./TunerPage.vue?vue&type=style&index=0&id=162d7a94&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-162d7a94\"]])\n\nexport default __exports__\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QLinearProgress from 'quasar/src/components/linear-progress/QLinearProgress.js';\nimport qInstall from \"../../node_modules/@quasar/app-webpack/lib/webpack/runtime.auto-import.js\";\nqInstall(script, 'components', {QPage,QCard,QCardSection,QBtn,QLinearProgress});\n"],"names":["axios","apiUrl","process","env","POK_API_URL","apiClient","create","baseURL","headers","recClient","REC_API_URL","getRoomPresetCollections","get","getCurrentRoomPresetCollection","selectCurrentRoomPresetCollection","id","put","params","resetRoom","post","getWifiQrImage","responseType","getControlQrImage","getControlQrImage2","getRoomStatus","getInstruments","getInstrumentById","updateInstrumentVolume","volume","patch","updateInstrumentPanorama","panorama","selectInstrumentPreset","preset_id","toggleInstrumentMute","getTunerState","turnTunerOn","turnTunerOff","getTuning","api_startRecording","name","start_time","api_stopRecording","api_playRecording","api_deleteRecording","delete","api_getRecordings","api_getRecorderStatus","api_stopPlayback","defineStore","api","useInstrumentStore","state","isRecorderActive","isBackendAvailable","selectedInstrumentId","selectedInstrumentName","selectedInstrumentType","selectedPresetCollectionName","isPreventScreenDimming","roomStatus","actions","togglePreventScreenDimming","setPreventScreenDimming","value","checkBackendAvailability","console","log","response","then","status","data","updateStore","catch","error","setSelectedInstrument","type","setPresetCollection","setRecorderActive","getters","getSelectedPresetCollectionName","getSelectedInstrumentId","getSelectedInstrumentName","getSelectedInstrumentType","selectedInstrumentHasTuner","getRecorderActive","key","class","_createElementVNode","_createBlock","_component_q_page","default","_withCtx","_createVNode","_component_q_card","flat","_component_q_card_section","style","$data","isTunerOn","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","$options","isInTune","_normalizeStyle","left","centsToPosition","_hoisted_4","_toDisplayString","note","display","leftTriangleDisplayStyle","rightTriangleDisplayStyle","_hoisted_5","displayCents","_hoisted_6","_hoisted_7","_hoisted_8","_component_q_btn","rounded","color","size","label","onClick","restartTuner","_","_component_q_linear_progress","progress","stripe","position","setup","TUNING_DURATTION_MAX","TUING_UPDATE_INTERVAL","timer","cents","intervalId","instrumentId","$route","fetchTunerIteration","computed","deviation","Math","min","max","parseInt","mounted","startReminderTimer","startTuner","fetchTuning","setInterval","beforeUnmount","clearTimeout","unmounted","clearInterval","stopTuner","methods","setTimeout"],"sourceRoot":""}