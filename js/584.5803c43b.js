"use strict";(globalThis["webpackChunkpok"]=globalThis["webpackChunkpok"]||[]).push([[584],{1584:(e,o,t)=>{t.r(o),t.d(o,{default:()=>O});var l=t(1758),a=t(8790);function n(e,o,t,n,r,s){const c=(0,l.g2)("preset-collection-dialog"),i=(0,l.g2)("q-icon"),d=(0,l.g2)("q-item-section"),u=(0,l.g2)("q-item-label"),m=(0,l.g2)("q-btn"),b=(0,l.g2)("q-item"),f=(0,l.g2)("q-toggle"),g=(0,l.g2)("q-list"),k=(0,l.g2)("q-card-section"),p=(0,l.g2)("q-spinner"),h=(0,l.g2)("q-card"),F=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(c,{ref:"presetSelector"},null,512),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(h,{flat:"",class:"q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{name:"fa-solid fa-music"})])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Preset-Vorauswahl")])),_:1})])),_:1}),(0,l.bF)(d,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,{"no-caps":"",color:"primary",onClick:s.openPresetCollectionSelector,class:"q-mb-md",label:n.selectedPresetCollectionName},null,8,["onClick","label"])])),_:1})])),_:1}),(0,l.bF)(b,{disable:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{name:"light"})])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Ambient-Beleuchtung")])),_:1})])),_:1}),(0,l.bF)(d,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(f,{size:"xl",modelValue:n.ambientLightOn,"onUpdate:modelValue":o[0]||(o[0]=e=>n.ambientLightOn=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(b,{disable:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{name:"door_front"})])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Zugangstür ist "+(0,a.v_)(n.roomDoorOpen?"offen":"verschlossen"),1)])),_:1})])),_:1}),(0,l.bF)(d,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,{color:"primary",round:"",size:"xl",icon:n.roomDoorOpen?"lock":"lock_open"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(k,{class:"q-mt-lg"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{"no-caps":"",loading:r.performDoorAction,color:"secondary",onClick:s.performRoomReset,class:"full-width q-mb-md"},{loading:(0,l.k6)((()=>[(0,l.bF)(p,{class:"on-left"}),(0,l.eW)(" Proberaum wird zurückgesetzt... ")])),default:(0,l.k6)((()=>[(0,l.eW)(" Proberaum zurücksetzen ")])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1})],64)}var r=t(6166);const s=e=>((0,l.Qi)("data-v-ef74e5d6"),e=e(),(0,l.jt)(),e),c=s((()=>(0,l.Lk)("div",{class:"q-mb-md"}," Wir haben für dich je nach Geschmack und Genre verschieden Preset-Sammlungen zusammengestellt. Wähle einfach eine Sammlung aus und starte mit dem Proben. Viel Spaß! ",-1))),i={class:"column q-pa-md full-width"},d={class:"btn-content"},u={class:"btn-heading"},m={class:"btn-description"};function b(e,o,t,n,r,s){const b=(0,l.g2)("q-toolbar-title"),f=(0,l.g2)("q-btn"),g=(0,l.g2)("q-toolbar"),k=(0,l.g2)("q-card-section"),p=(0,l.g2)("q-card"),h=(0,l.g2)("q-dialog"),F=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(h,{modelValue:r.showDialog,"onUpdate:modelValue":o[0]||(o[0]=e=>r.showDialog=e)},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("Preset-Vorauswahl")])),_:1}),(0,l.bo)((0,l.bF)(f,{flat:"",round:"",dense:"",icon:"close"},null,512),[[F]])])),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[c])),_:1}),(0,l.bF)(k,{class:"flex flex-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.roomPresets,(e=>((0,l.uX)(),(0,l.Wv)(f,{"no-caps":"",key:e.id,color:"primary",class:"custom-btn full-width q-mb-md",onClick:o=>s.selectRoomPresetCollection(e.id),unelevated:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",d,[(0,l.Lk)("div",u,(0,a.v_)(e.name),1),(0,l.Lk)("div",m,(0,a.v_)(e.description),1)])])),_:2},1032,["onClick"])))),128))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var f=t(6394);const g={data(){return{showDialog:!1,roomPresets:null}},methods:{fetchData(){(0,r.GY)().then((e=>{this.roomPresets=e.data})).catch((e=>{console.error("Error fetching data from room backend:",e)}))},show(){this.fetchData(),this.showDialog=!0},close(){this.showDialog=!1},selectRoomPresetCollection(e){const o=(0,f.Q)();(0,r.U8)(e).then((e=>{const t=e.data.name;o.setPresetCollection(t)})).catch((e=>{console.error("Error selecting room preset collection:",e)})),this.close()}}};var k=t(2807),p=t(4937),h=t(3316),F=t(6914),_=t(9150),A=t(6384),q=t(4189),v=t(8672),C=t(8582),Q=t.n(C);const P=(0,k.A)(g,[["render",b],["__scopeId","data-v-ef74e5d6"]]),w=P;Q()(g,"components",{QDialog:p.A,QCard:h.A,QToolbar:F.A,QToolbarTitle:_.A,QBtn:A.A,QCardSection:q.A}),Q()(g,"directives",{ClosePopup:v.A});const D={name:"RoomView",components:{PresetCollectionDialog:w},setup(){const e=(0,f.Q)(),o=(0,l.EW)((()=>e.getSelectedPresetCollectionName)),t=(0,l.EW)((()=>"open"===e.roomStatus.door.status)),a=(0,l.EW)((()=>e.roomStatus.light.is_on));return e.updateStore(),{selectedPresetCollectionName:o,roomDoorOpen:t,ambientLightOn:a}},data(){return{performDoorAction:!1}},computed:{},methods:{openPresetCollectionSelector(){this.$refs.presetSelector.show()},performRoomReset(){const e=(0,f.Q)();this.performDoorAction=!0,setTimeout((()=>{this.performDoorAction=!1}),1500),(0,r.Zr)().then((e=>{console.log("Room reset:",e)})).catch((e=>{console.error("Error resetting room:",e)})),e.updateStore()}}};var S=t(7716),W=t(3999),L=t(124),V=t(5173),E=t(492),R=t(3796),z=t(5087),T=t(564);const I=(0,k.A)(D,[["render",n]]),O=I;Q()(D,"components",{QPage:S.A,QCard:h.A,QCardSection:q.A,QList:W.A,QItem:L.A,QItemSection:V.A,QIcon:E.A,QItemLabel:R.A,QBtn:A.A,QToggle:z.A,QSpinner:T.A})}}]);