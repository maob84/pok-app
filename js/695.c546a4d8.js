"use strict";(globalThis["webpackChunkpok"]=globalThis["webpackChunkpok"]||[]).push([[695],{3695:(e,o,l)=>{l.r(o),l.d(o,{default:()=>O});var t=l(1758),a=l(8790);const n={key:0};function r(e,o,l,r,s,c){const i=(0,t.g2)("backend-status"),d=(0,t.g2)("preset-collection-dialog"),u=(0,t.g2)("q-icon"),m=(0,t.g2)("q-item-section"),b=(0,t.g2)("q-item-label"),k=(0,t.g2)("q-btn"),f=(0,t.g2)("q-item"),g=(0,t.g2)("q-toggle"),p=(0,t.g2)("q-list"),h=(0,t.g2)("q-card-section"),_=(0,t.g2)("q-spinner"),F=(0,t.g2)("q-card"),v=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(v,null,{default:(0,t.k6)((()=>[r.isBackendAvailable?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",n,[(0,t.bF)(i)])),r.isBackendAvailable?((0,t.uX)(),(0,t.Wv)(F,{key:1,flat:"",class:"q-pa-md"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{ref:"presetSelector"},null,512),(0,t.bF)(h,null,{default:(0,t.k6)((()=>[(0,t.bF)(p,{bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(u,{name:"fa-solid fa-music"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)("Preset-Vorauswahl")])),_:1})])),_:1}),(0,t.bF)(m,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(k,{"no-caps":"",color:"primary",onClick:c.openPresetCollectionSelector,class:"q-mb-md",label:r.selectedPresetCollectionName},null,8,["onClick","label"])])),_:1})])),_:1}),(0,t.bF)(f,{disable:""},{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(u,{name:"light"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)("Ambient-Beleuchtung")])),_:1})])),_:1}),(0,t.bF)(m,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(g,{size:"xl",modelValue:r.ambientLightOn,"onUpdate:modelValue":o[0]||(o[0]=e=>r.ambientLightOn=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(h,null,{default:(0,t.k6)((()=>[(0,t.bF)(p,{bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(f,{disable:""},{default:(0,t.k6)((()=>[(0,t.bF)(m,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(u,{name:"door_front"})])),_:1}),(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)("Zugangstür ist "+(0,a.v_)(r.roomDoorOpen?"offen":"verschlossen"),1)])),_:1})])),_:1}),(0,t.bF)(m,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(k,{color:"primary",round:"",size:"xl",icon:r.roomDoorOpen?"lock":"lock_open"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(h,{class:"q-mt-lg"},{default:(0,t.k6)((()=>[(0,t.bF)(k,{"no-caps":"",loading:s.performDoorAction,color:"secondary",onClick:c.performRoomReset,class:"full-width q-mb-md"},{loading:(0,t.k6)((()=>[(0,t.bF)(_,{class:"on-left"}),(0,t.eW)(" Proberaum wird zurückgesetzt... ")])),default:(0,t.k6)((()=>[(0,t.eW)(" Proberaum zurücksetzen ")])),_:1},8,["loading","onClick"])])),_:1})])),_:1})):(0,t.Q3)("",!0)])),_:1})}var s=l(6166);const c=e=>((0,t.Qi)("data-v-ef74e5d6"),e=e(),(0,t.jt)(),e),i=c((()=>(0,t.Lk)("div",{class:"q-mb-md"}," Wir haben für dich je nach Geschmack und Genre verschieden Preset-Sammlungen zusammengestellt. Wähle einfach eine Sammlung aus und starte mit dem Proben. Viel Spaß! ",-1))),d={class:"column q-pa-md full-width"},u={class:"btn-content"},m={class:"btn-heading"},b={class:"btn-description"};function k(e,o,l,n,r,s){const c=(0,t.g2)("q-toolbar-title"),k=(0,t.g2)("q-btn"),f=(0,t.g2)("q-toolbar"),g=(0,t.g2)("q-card-section"),p=(0,t.g2)("q-card"),h=(0,t.g2)("q-dialog"),_=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(h,{modelValue:r.showDialog,"onUpdate:modelValue":o[0]||(o[0]=e=>r.showDialog=e)},{default:(0,t.k6)((()=>[(0,t.bF)(p,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.eW)("Preset-Vorauswahl")])),_:1}),(0,t.bo)((0,t.bF)(k,{flat:"",round:"",dense:"",icon:"close"},null,512),[[_]])])),_:1}),(0,t.bF)(g,null,{default:(0,t.k6)((()=>[i])),_:1}),(0,t.bF)(g,{class:"flex flex-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",d,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.roomPresets,(e=>((0,t.uX)(),(0,t.Wv)(k,{"no-caps":"",key:e.id,color:"primary",class:"custom-btn full-width q-mb-md",onClick:o=>s.selectRoomPresetCollection(e.id),unelevated:""},{default:(0,t.k6)((()=>[(0,t.Lk)("div",u,[(0,t.Lk)("div",m,(0,a.v_)(e.name),1),(0,t.Lk)("div",b,(0,a.v_)(e.description),1)])])),_:2},1032,["onClick"])))),128))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var f=l(6394);const g={data(){return{showDialog:!1,roomPresets:null}},methods:{fetchData(){(0,s.GY)().then((e=>{this.roomPresets=e.data})).catch((e=>{console.error("Error fetching data from room backend:",e)}))},show(){this.fetchData(),this.showDialog=!0},close(){this.showDialog=!1},selectRoomPresetCollection(e){const o=(0,f.Q)();(0,s.U8)(e).then((e=>{const l=e.data.name;o.setPresetCollection(l)})).catch((e=>{console.error("Error selecting room preset collection:",e)})),this.close()}}};var p=l(2807),h=l(4937),_=l(3316),F=l(6914),v=l(9150),A=l(6384),q=l(4189),C=l(8672),Q=l(8582),P=l.n(Q);const S=(0,p.A)(g,[["render",k],["__scopeId","data-v-ef74e5d6"]]),w=S;P()(g,"components",{QDialog:h.A,QCard:_.A,QToolbar:F.A,QToolbarTitle:v.A,QBtn:A.A,QCardSection:q.A}),P()(g,"directives",{ClosePopup:C.A});var D=l(6006);const W={name:"RoomView",components:{PresetCollectionDialog:w,BackendStatus:D.A},setup(){const e=(0,f.Q)(),o=(0,t.EW)((()=>e.getSelectedPresetCollectionName)),l=(0,t.EW)((()=>e.isBackendAvailable)),a=(0,t.EW)((()=>"open"===e.roomStatus.door.status)),n=(0,t.EW)((()=>e.roomStatus.light.is_on));return e.isBackendAvailable&&e.updateStore(),{selectedPresetCollectionName:o,roomDoorOpen:a,ambientLightOn:n,isBackendAvailable:l}},data(){return{performDoorAction:!1}},computed:{},methods:{openPresetCollectionSelector(){this.$refs.presetSelector.show()},performRoomReset(){const e=(0,f.Q)();this.performDoorAction=!0,setTimeout((()=>{this.performDoorAction=!1}),1500),(0,s.Zr)().then((e=>{console.log("Room reset:",e)})).catch((e=>{console.error("Error resetting room:",e)})),e.updateStore()}}};var L=l(7716),V=l(3999),B=l(124),E=l(5173),R=l(492),y=l(3796),z=l(5087),T=l(564);const I=(0,p.A)(W,[["render",r]]),O=I;P()(W,"components",{QPage:L.A,QCard:_.A,QCardSection:q.A,QList:V.A,QItem:B.A,QItemSection:E.A,QIcon:R.A,QItemLabel:y.A,QBtn:A.A,QToggle:z.A,QSpinner:T.A})}}]);