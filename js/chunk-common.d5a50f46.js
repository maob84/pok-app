(globalThis["webpackChunkpok"]=globalThis["webpackChunkpok"]||[]).push([[996],{6166:(e,t,n)=>{"use strict";n.d(t,{$r:()=>v,Bz:()=>I,Cl:()=>A,GY:()=>o,LO:()=>b,O8:()=>r,Qy:()=>g,RV:()=>p,U8:()=>i,Zr:()=>c,mw:()=>d,ok:()=>u,pB:()=>h,uB:()=>f,uJ:()=>m,xr:()=>k});var a=n(2303);const s="http://192.168.2.111:8000",l=a.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),o=()=>l.get("/room/presetcollections"),r=()=>l.get("/room/presetcollections/current"),i=e=>l.put("/room/presetcollections/current",null,{params:{id:e}}),c=()=>l.post("/room/reset"),u=()=>l.get("/room/wifi-qr-code",{responseType:"blob"}),d=()=>l.get("/room/control-qr-code",{responseType:"blob"}),m=()=>l.get("/room"),h=()=>l.get("/instruments"),g=e=>l.get(`/instruments/${e}`),p=(e,t)=>l.patch(`/instruments/${e}/volume`,null,{params:{volume:t}}),A=(e,t)=>l.patch(`/instruments/${e}/panorama`,null,{params:{panorama:t}}),b=(e,t)=>l.patch(`/instruments/${e}/preset`,null,{params:{preset_id:t}}),v=e=>l.patch(`/instruments/${e}/mute`),I=e=>l.post(`/instruments/${e}/tuner/on`),k=e=>l.post(`/instruments/${e}/tuner/off`),f=e=>l.get(`/instruments/${e}/tuning`)},6394:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var a=n(587),s=n(6166),l=n(660);const o=(0,a.nY)("instrumentStore",{state:()=>({isBackendAvailable:!1,selectedInstrumentId:null,selectedInstrumentName:null,selectedInstrumentType:null,selectedPresetCollectionName:null,roomStatus:null}),actions:{checkBackendAvailability(){console.log("Checking backend availability...");l.api.get("room").then((e=>{200===e.status?(this.isBackendAvailable=!0,this.roomStatus=e.data):this.isBackendAvailable=!1})).catch((e=>{console.log("Backend service is not available:",e),this.isBackendAvailable=!1}))},setSelectedInstrument(e,t,n){this.selectedInstrumentId=e,this.selectedInstrumentName=t,this.selectedInstrumentType=n},setPresetCollection(e){this.selectedPresetCollectionName=e},updateStore(){(0,s.O8)().then((e=>{this.selectedPresetCollectionName=e.data.name})).catch((e=>{console.error("Error getting preset collection:",e)}))}},getters:{getSelectedPresetCollectionName:e=>e.selectedPresetCollectionName,getSelectedInstrumentId:e=>e.selectedInstrumentId,getSelectedInstrumentName:e=>e.selectedInstrumentName,getSelectedInstrumentType:e=>e.selectedInstrumentType,selectedInstrumentHasTuner:e=>"guitar"===e.selectedInstrumentType}})},6006:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var a=n(1758);function s(e,t,n,s,l,o){const r=(0,a.g2)("q-icon"),i=(0,a.g2)("q-spinner"),c=(0,a.g2)("q-btn"),u=(0,a.g2)("q-banner");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(u,{dense:"",class:"bg-primary text-white"},{avatar:(0,a.k6)((()=>[(0,a.bF)(r,{name:"signal_wifi_off"})])),action:(0,a.k6)((()=>[(0,a.bF)(c,{flat:"","no-caps":"",label:"Erneute versuchen",loading:l.isLoading,icon:"refresh",color:"white",onClick:o.retry},{loading:(0,a.k6)((()=>[(0,a.bF)(i,{class:"on-left"})])),_:1},8,["loading","onClick"])])),default:(0,a.k6)((()=>[(0,a.eW)(" Es besteht keine Verbindung zum Proberaum. Bitte überprüfe die Verbindung zum Proberaum-WLAN. ")])),_:1})])}var l=n(6394);const o={data(){return{isLoading:!1}},setup(){(0,l.Q)()},computed:{isAvailable(){const e=(0,l.Q)();return e.isBackendAvailable}},methods:{retry(){const e=(0,l.Q)();this.isLoading=!0,e.checkBackendAvailability(),setTimeout((()=>{this.isLoading=!1}),1500)}}};var r=n(2807),i=n(6868),c=n(492),u=n(6384),d=n(564),m=n(8582),h=n.n(m);const g=(0,r.A)(o,[["render",s]]),p=g;h()(o,"components",{QBanner:i.A,QIcon:c.A,QBtn:u.A,QSpinner:d.A})},4477:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var a=n(1758);const s={class:"column q-pa-md full-width"};function l(e,t,n,l,o,r){const i=(0,a.g2)("q-toolbar-title"),c=(0,a.g2)("q-btn"),u=(0,a.g2)("q-toolbar"),d=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(h,{modelValue:o.showDialog,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showDialog=e)},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.eW)("Instrumentauswahl")])),_:1}),(0,a.bo)((0,a.bF)(c,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Wähle aus, welches Instrument du gerne über die App steuern möchtest. ")])),_:1}),(0,a.bF)(d,{class:"flex flex-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.instruments,(e=>((0,a.uX)(),(0,a.Wv)(c,{padding:"sm lg",rounded:"","no-caps":"",color:"primary",size:"lg",class:"full-width q-mb-md",label:e.name,key:e.id,onClick:t=>r.selectInstrument(e.name,e.id,e.type)},null,8,["label","onClick"])))),128))])])),_:1})])),_:1})])),_:1},8,["modelValue"])}n(239);var o=n(6394),r=n(6166);const i={setup(){const e=(0,o.Q)(),t=(t,n,a)=>{e.setSelectedInstrument(t,n,a)};return{setInstrument:t}},name:"InstrumentSelectorDialog",data(){return{isOpen:!1,instruments:[],loading:!0,showDialog:!1}},mounted(){this.fetchInstruments()},methods:{fetchInstruments(){(0,r.pB)().then((e=>{this.instruments=e.data,this.loading=!1})).catch((e=>{console.error("Error fetching instruments:",e),this.loading=!1}))},show(){this.showDialog=!0},close(){this.showDialog=!1},selectInstrument(e,t,n){(0,o.Q)();console.log(`Instrument selected! '${e}' '${t}' '${n}'`),this.setInstrument(t,e,n),this.close(),this.$router.push("/instrument")}}};var c=n(2807),u=n(4937),d=n(3316),m=n(6914),h=n(9150),g=n(6384),p=n(4189),A=n(8672),b=n(8582),v=n.n(b);const I=(0,c.A)(i,[["render",l],["__scopeId","data-v-665d00b6"]]),k=I;v()(i,"components",{QDialog:u.A,QCard:d.A,QToolbar:m.A,QToolbarTitle:h.A,QBtn:g.A,QCardSection:p.A}),v()(i,"directives",{ClosePopup:A.A})},2649:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var a=n(1758);function s(e,t,n,s,l,o){const r=(0,a.g2)("q-toolbar-title"),i=(0,a.g2)("q-btn"),c=(0,a.g2)("q-toolbar"),u=(0,a.g2)("q-btn-toggle"),d=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(h,{modelValue:l.showDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>l.showDialog=e)},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Panorama festlegen")])),_:1}),(0,a.bo)((0,a.bF)(i,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,a.bF)(d,{class:"q-ma-lg"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{"no-caps":"",modelValue:l.panorama,"onUpdate:modelValue":t[0]||(t[0]=e=>l.panorama=e),rounded:"",onClick:t[1]||(t[1]=e=>o.changePanoramaAbsolut(this.panorama)),"toggle-color":"primary",options:[{label:"Halblinks",value:25},{label:"Mitte",value:63},{label:"Halbrechts",value:102}]},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}n(6394);var l=n(6166);const o={name:"PanoramaDialog",setup(){},data(){return{showDialog:!1,panorama:0,panoramaToggle:"center",data:null,instrumentId:null}},computed:{intPanorama:{get(){return this.panorama},set(e){let t=parseInt(e,10);this.changePanorama(t-this.panorama)}}},methods:{updateInstrumentState(e){e&&(0,l.Qy)(e).then((e=>{e.data.panorama<=25?this.panorama=25:e.data.panorama>=102?this.panorama=102:this.panorama=63})).catch((e=>{console.error("Error fetching instrument state:",e)}))},show(e){this.instrumentId=e,this.updateInstrumentState(this.instrumentId),this.showDialog=!0},close(){this.showDialog=!1},changePanoramaAbsolut(e){this.panorama=e,(0,l.Cl)(this.instrumentId,e).then((e=>{this.panorama=e.data.panorama})).catch((e=>{console.error("Error updating instrument panorama:",e)}))},changePanorama(e){const t=Math.max(0,Math.min(127,this.panorama+e));this.panorama=t,(0,l.Cl)(this.instrumentId,t).then((e=>{this.panorama=e.data.panorama})).catch((e=>{console.error("Error updating instrument panorama:",e)}))}}};var r=n(2807),i=n(4937),c=n(3316),u=n(6914),d=n(9150),m=n(6384),h=n(4189),g=n(6939),p=n(8672),A=n(8582),b=n.n(A);const v=(0,r.A)(o,[["render",s]]),I=v;b()(o,"components",{QDialog:i.A,QCard:c.A,QToolbar:u.A,QToolbarTitle:d.A,QBtn:m.A,QCardSection:h.A,QBtnToggle:g.A}),b()(o,"directives",{ClosePopup:p.A})},9627:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var a=n(1758),s=n(8790);const l=e=>((0,a.Qi)("data-v-6d7ab4ee"),e=e(),(0,a.jt)(),e),o={class:"tuner-device"},r={class:"tuner-container"},i=l((()=>(0,a.Lk)("div",{class:"circle fixed-background-circle"},null,-1))),c={class:"circle note-circle"},u={class:"cents-container"};function d(e,t,n,l,d,m){const h=(0,a.g2)("q-toolbar-title"),g=(0,a.g2)("q-btn"),p=(0,a.g2)("q-toolbar"),A=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),I=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{modelValue:d.showDialog,"onUpdate:modelValue":t[0]||(t[0]=e=>d.showDialog=e),onHide:m.close},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)("Chromatisches Stimmgerät")])),_:1}),(0,a.bo)((0,a.bF)(g,{flat:"",round:"",dense:"",icon:"close"},null,512),[[I]])])),_:1}),(0,a.bF)(A,{class:"flex flex-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",r,[i,(0,a.Lk)("div",{class:(0,s.C4)(["circle moving-circle",m.isInTune]),style:(0,s.Tr)({left:m.centsToPosition})},null,6),(0,a.Lk)("div",c,(0,s.v_)(d.note),1),(0,a.Lk)("div",{class:"triangle left-triangle",style:(0,s.Tr)({display:m.leftTriangleDisplayStyle})},null,4),(0,a.Lk)("div",{class:"triangle right-triangle",style:(0,s.Tr)({display:m.rightTriangleDisplayStyle})},null,4)]),(0,a.Lk)("div",u,[(0,a.Lk)("div",null,(0,s.v_)(m.displayCents),1)])])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}n(6394);var m=n(6166);const h={name:"TemplateDialog",setup(){},data(){return{showDialog:!1,note:"E",cents:"0",intervalId:null,instrumentId:null}},computed:{isInTune(){return{"green-circle":this.cents>=-2&&this.cents<=2}},displayCents:{get(){return this.cents+" ct"}},centsToPosition:{get(){const e=Math.min(Math.max(parseInt(this.cents),-10),10);return 5*e+75+"px"}},leftTriangleDisplayStyle:{get(){return this.cents<-2?"block":"none"}},rightTriangleDisplayStyle:{get(){return this.cents>2?"block":"none"}}},methods:{startTuner(){this.instrumentId&&(0,m.Bz)(this.instrumentId).catch((e=>{console.error("Error starting tuner:",e)}))},stopTuner(){this.instrumentId&&(0,m.xr)(this.instrumentId).catch((e=>{console.error("Error stopping tuner:",e)}))},fetchTuning(){this.instrumentId&&(0,m.uB)(this.instrumentId).then((e=>{this.note=e.data.note,this.cents=e.data.deviation})).catch((e=>{console.error("Error fetching tuning:",e)}))},show(e){this.instrumentId=e,this.showDialog=!0,this.startTuner(),this.fetchTuning(),this.instrumentId&&(this.intervalId=setInterval(this.fetchTuning,500))},close(){this.intervalId&&clearInterval(this.intervalId),this.stopTuner(),this.showDialog=!1}}};var g=n(2807),p=n(4937),A=n(3316),b=n(6914),v=n(9150),I=n(6384),k=n(4189),f=n(8672),T=n(8582),C=n.n(T);const w=(0,g.A)(h,[["render",d],["__scopeId","data-v-6d7ab4ee"]]),y=w;C()(h,"components",{QDialog:p.A,QCard:A.A,QToolbar:b.A,QToolbarTitle:v.A,QBtn:I.A,QCardSection:k.A}),C()(h,"directives",{ClosePopup:f.A})},9394:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR4nO2VvUoDQRSFPzWohVGxSKUvYBpL0VZQH8D30EJfIYJikYCViK1WgpJCVBAFsdQ0EpImdqLiT6MgrgwcYVhwd4dhlxR7YGDOneF+u7Nz70KueN0A15a/1EhdgcZ/PgcnVg+wDdwCQx5HbfJcAMdAfxLwmhK9ACMe4F6gpbVaHLQEfAA/wLxi5mkHHMAFYFjzKeAT+AbKUeAVJTmUNwmawL0D+AR4Bsblq1rfigLXtWlJflP+zAG8K38gPy3fiAI3tKkc8rMO4An5N/mi/LsL+M4D/OoCroeOekP+3AG8J7/vctTLoctVVEk0HcCnwJN1uWpJLldJR2LKacEqp0EHsL3flNOXymmSGK1aDWTMo4H0AW2tVUkg0+p2VLujnp3rCjhK2jK79rf4KNCMyixQLHWtW2/5N0wsdRWAigWtKJaZgqy+bVeA5yywmWemtgU288z0YIE7WYIXBe9YPT0XUfoFc7KpuH2v/QcAAAAASUVORK5CYII="}}]);