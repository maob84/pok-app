{"version":3,"file":"js/17.a799ffbb.js","mappings":"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","sources":["webpack://pok/./src/services/apiServices.js","webpack://pok/./src/stores/instruments-store.js","webpack://pok/./src/utils/wakeLock.js","webpack://pok/./src/layouts/MainLayout.vue","webpack://pok/./src/layouts/MainLayout.vue?4ac1","webpack://pok/./src/layouts/MainLayout.vue?386e"],"sourcesContent":["import axios from 'axios';\n\n//const apiUrl = process.env.VUE_APP_API_URL || 'http://192.168.1.9:8000';\n//const apiUrl = 'https://room.proben-ohne-krach.de:443';\n//const apiUrl = 'http://192.168.2.111:8000';\n\nconst apiUrl = process.env.POK_API_URL\n\nexport const apiClient = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const recClient = axios.create({\n  baseURL: process.env.REC_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// General room services\nexport const getRoomPresetCollections = () => apiClient.get('/room/presetcollections');\nexport const getCurrentRoomPresetCollection = () => apiClient.get('/room/presetcollections/current');\nexport const selectCurrentRoomPresetCollection = (id) => apiClient.put('/room/presetcollections/current', null, { params: { id: id } } );\nexport const resetRoom = () => apiClient.post('/room/reset');\nexport const getWifiQrImage = () => apiClient.get('/room/wifi-qr-code', { responseType: 'blob' });\nexport const getControlQrImage = () => apiClient.get('/room/control-qr-code', { responseType: 'blob' });\nexport const getControlQrImage2 = () => apiClient.get('/room/control-qr-code2', { responseType: 'blob' });\nexport const getRoomStatus = () => apiClient.get('/room');\n\n// Instrument services\nexport const getInstruments = () => apiClient.get('/instruments');\nexport const getInstrumentById = (id) => apiClient.get(`/instruments/${id}`);\nexport const updateInstrumentVolume = (id, volume) => apiClient.patch(`/instruments/${id}/volume`, null, { params: { volume: volume }  });\nexport const updateInstrumentPanorama = (id, panorama) => apiClient.patch(`/instruments/${id}/panorama`, null, { params: { panorama: panorama }  });\nexport const selectInstrumentPreset = (id, preset_id) => apiClient.patch(`/instruments/${id}/preset`, null,  { params: { preset_id: preset_id } } );\nexport const toggleInstrumentMute = (id) => apiClient.patch(`/instruments/${id}/mute`);\n\n// Tuner services\nexport const getTunerState = (id) => apiClient.get(`/instruments/${id}/tuner`);\nexport const turnTunerOn = (id) => apiClient.post(`/instruments/${id}/tuner/on`);\nexport const turnTunerOff = (id) => apiClient.post(`/instruments/${id}/tuner/off`);\nexport const getTuning = (id) => apiClient.get(`/instruments/${id}/tuning`);\n\n// Recorder services\nexport const api_startRecording = (name, start_time) => recClient.post('/recorder/start', null, { params: { name: name, start_time: start_time } });\nexport const api_stopRecording = () => recClient.post('/recorder/stop');\nexport const api_playRecording = (id) => recClient.post(`/recorder/play/${id}`);\nexport const api_deleteRecording = (id) => recClient.delete(`/recorder/delete/${id}`);\nexport const api_getRecordings = (id) => recClient.get('/recorder/list-recordings');\nexport const api_getRecorderStatus = () => recClient.get('/recorder/status');\nexport const api_stopPlayback = () => recClient.post('/recorder/stop-playback');","import { defineStore } from 'pinia'\nimport { getCurrentRoomPresetCollection } from '@/services/apiServices';\nimport { api } from '@/boot/axios';\n\nexport const useInstrumentStore = defineStore('instrumentStore', {\n  state: () => ({\n    isRecorderActive: false,\n    isBackendAvailable: false,\n    selectedInstrumentId: null,\n    selectedInstrumentName: null,\n    selectedInstrumentType: null,\n    selectedPresetCollectionName: null,\n    isPreventScreenDimming: false,\n    roomStatus: null,\n  }),\n  actions: {\n    togglePreventScreenDimming() {\n      this.isPreventScreenDimming = !this.isPreventScreenDimming;\n    },\n    setPreventScreenDimming(value) {\n      this.isPreventScreenDimming = value;\n    },\n    checkBackendAvailability() {\n      console.log('Checking backend availability...');\n      const response =  api.get('room')\n        .then(response => {\n          if (response.status === 200) {\n            this.isBackendAvailable = true;\n            this.roomStatus = response.data;\n\n            this.updateStore();\n            \n          } else {\n            this.isBackendAvailable = false;\n          }\n        })\n        .catch(error => {\n          console.log('Backend service is not available:', error);\n          this.isBackendAvailable = false;\n        })\n    },\n    setSelectedInstrument(id, name, type){\n      this.selectedInstrumentId = id;\n      this.selectedInstrumentName = name;\n      this.selectedInstrumentType = type;\n    },\n    setPresetCollection(name){\n      this.selectedPresetCollectionName = name;\n    },\n    updateStore() {\n      getCurrentRoomPresetCollection()\n        .then(response => {\n          this.selectedPresetCollectionName = response.data.name;\n        })\n        .catch(error => {\n          console.error('Error getting preset collection:', error);\n        });\n    },\n    setRecorderActive(value) {\n      console.log('Setting recorder active:', value);\n      this.isRecorderActive = value;\n    }\n  },\n  getters: {\n    getSelectedPresetCollectionName: (state) => state.selectedPresetCollectionName,\n    getSelectedInstrumentId: (state) => state.selectedInstrumentId,\n    getSelectedInstrumentName: (state) => state.selectedInstrumentName,\n    getSelectedInstrumentType: (state) => state.selectedInstrumentType,\n    selectedInstrumentHasTuner: (state) => state.selectedInstrumentType === 'guitar',\n    getRecorderActive: (state) => state.isRecorderActive,\n  }\n});\n","let wakeLock = null;\n\nasync function requestWakeLock() {\n  try {\n    if ('wakeLock' in navigator) {\n      wakeLock = await navigator.wakeLock.request('screen');\n      console.log('Wake lock is active');\n    }\n    else {\n      console.log('Wake lock is not supported');\n    }\n  } catch (err) {\n    console.error(`${err.name}, ${err.message}`);\n  }\n}\n\nfunction releaseWakeLock() {\n  if (wakeLock !== null) {\n    wakeLock.release().then(() => {\n      wakeLock = null;\n      console.log('Wake lock released');\n    });\n  }\n}\n\nexport { requestWakeLock, releaseWakeLock };\n","<template>\n  <q-layout view=\"hhh Lpr lFf\">\n    <q-header class=\"bg-dark\">\n      <div class=\"row no-wrap\">\n      <q-toolbar v-if=\"$route.meta.showBackArrow || $route.meta.title\">\n          <q-btn v-if=\"$route.meta.showBackArrow\" flat round dense icon=\"arrow_back\" @click=\"goBack\" />\n          <q-avatar v-if=\"!$route.meta.showBackArrow\" class=\"float-right\">\n            <img src=\"icons/icon-128x128.png\" alt=\"Proben ohne Krach\" @click=\"openHomePage\">\n          </q-avatar>\n          <q-toolbar-title v-if=\"$route.meta.title\" class=\"text-center\">\n            {{ $route.meta.title }}\n          </q-toolbar-title>\n      </q-toolbar>\n      <q-toolbar v-if=\"$route.meta.showHeader\">\n        <q-btn\n          flat\n          dense\n          round\n          icon=\"menu\"\n          aria-label=\"Menu\"\n          @click=\"toggleLeftDrawer\"\n        />\n\n        <q-space />\n\n        <q-toolbar-title class=\"text-center text-h6\">\n          PoK\n        </q-toolbar-title>\n\n        <q-space />\n\n        <q-avatar class=\"float-right\">\n          <img src=\"icons/icon-128x128.png\" alt=\"Proben ohne Krach\" @click=\"openHomePage\">\n        </q-avatar>\n\n        <!--\n        <div>Profile section</div>\n        -->\n      </q-toolbar>\n    </div>\n    </q-header>\n\n    <q-footer v-if=\"!$route.meta.hideFooter\" class=\"bg-dark q-pb-md\">\n      <q-tabs narrow-indicator active-class=\"highlighted-tab\">\n        <q-route-tab\n          no-caps\n          icon=\"home\"\n          label=\"Start\"\n          to=\"/\"\n          exact\n        />\n        <q-route-tab\n          no-caps\n          icon=\"meeting_room\"\n          label=\"Raum\"\n          to=\"/room\"\n          exact\n        />\n        <q-route-tab\n          no-caps\n          icon=\"fa-solid fa-sliders\"\n          label=\"Instrument\"\n          to=\"/instrument\"\n          exact\n        />\n        <q-route-tab\n          no-caps\n          icon=\"mic\"\n          label=\"Aufnahme\"\n          to=\"/recorder\"\n          exact\n          v-bind=\"{ ...(isRecorderActive ? { alert: 'red' } : {}) }\"\n        />\n      </q-tabs>\n    </q-footer>\n\n    <q-drawer\n      v-model=\"leftDrawerOpen\"\n      show-if-above\n      :width=\"270\"\n      mini\n      bordered\n    >\n      <q-list>\n        <q-item clickable v-ripple exact to=\"/\">\n          <q-item-section avatar>\n            <q-icon name='home' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Start</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple to=\"/room\">\n          <q-item-section avatar>\n            <q-icon name='meeting_room' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Raumsteuerung</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple to=\"/instrument\">\n          <q-item-section avatar>\n            <q-icon name='fa-solid fa-sliders' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Instrumentensteuerung</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-separator/>\n        <q-item clickable v-ripple @click=\"openHomePage\">\n          <q-item-section avatar>\n            <q-icon name='web' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Homepage</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple to=\"/booking\">\n          <q-item-section avatar>\n            <q-icon name='calendar_month' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Proberaum buchen</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple @click=\"openLiveSessionPage\">\n          <q-item-section avatar>\n            <q-icon name='highlight' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Live Sesssion - Take a seat</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-separator/>\n        <q-item disable clickable v-ripple to=\"/admin\">\n          <q-item-section avatar>\n            <q-icon name='settings' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Adminbereich</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple to=\"/impressum\">\n          <q-item-section avatar>\n            <q-icon name='policy' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Impressum</q-item-label>\n          </q-item-section>\n        </q-item>\n        <q-item clickable v-ripple to=\"/connection-status\">\n          <q-item-section avatar>\n            <q-icon name='network_check' />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>Verbindungsstatus</q-item-label>\n          </q-item-section>\n        </q-item>\n      </q-list>\n    </q-drawer>\n\n    <q-page-container>\n      <router-view />\n    </q-page-container>\n  </q-layout>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onBeforeUnmount } from 'vue'\nimport { useInstrumentStore } from '@/stores/instruments-store';\nimport { requestWakeLock, releaseWakeLock } from '@/utils/wakeLock';\nimport { useRouter } from 'vue-router'\n\n\nonMounted(() => {\n  requestWakeLock()\n})\n\nonBeforeUnmount(() => {\n  releaseWakeLock()\n})\n\n\ndefineOptions({\n  name: 'MainLayout'\n})\n\nconst isRecorderActive = computed(() => {\n  return store.getRecorderActive;\n})\n\n\nconst leftDrawerOpen = ref(false)\n\nconst router = useRouter();\nconst store = useInstrumentStore();\n\nfunction toggleLeftDrawer () {\n  leftDrawerOpen.value = !leftDrawerOpen.value\n}\n\nfunction goBack() {\n  router.go(-1);\n}\n\nfunction openHomePage() {\n  window.open('http://www.proben-ohne-krach.de/', '_blank');\n}\n\nfunction openLiveSessionPage() {\n  window.open('https://www.proben-ohne-krach.de/live-session-take-a-seat-/', '_blank');\n}\n\n</script>\n\n<style scoped>\n.highlighted-tab {\n  background-color: bg-dark !important; /* Change to your desired active background color */\n  color: #ffffff\n}\n</style>","export { default } from \"-!../../node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./MainLayout.vue?vue&type=script&setup=true&lang=js\"; export * from \"-!../../node_modules/@quasar/app-webpack/lib/webpack/loader.js.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../node_modules/@quasar/app-webpack/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./MainLayout.vue?vue&type=script&setup=true&lang=js\"","import script from \"./MainLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MainLayout.vue?vue&type=style&index=0&id=7a69430a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a69430a\"]])\n\nexport default __exports__\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QHeader from 'quasar/src/components/header/QHeader.js';\nimport QToolbar from 'quasar/src/components/toolbar/QToolbar.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QToolbarTitle from 'quasar/src/components/toolbar/QToolbarTitle.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QFooter from 'quasar/src/components/footer/QFooter.js';\nimport QTabs from 'quasar/src/components/tabs/QTabs.js';\nimport QRouteTab from 'quasar/src/components/tabs/QRouteTab.js';\nimport QDrawer from 'quasar/src/components/drawer/QDrawer.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';import Ripple from 'quasar/src/directives/ripple/Ripple.js';\nimport qInstall from \"../../node_modules/@quasar/app-webpack/lib/webpack/runtime.auto-import.js\";\nqInstall(script, 'components', {QLayout,QHeader,QToolbar,QBtn,QAvatar,QToolbarTitle,QSpace,QFooter,QTabs,QRouteTab,QDrawer,QList,QItem,QItemSection,QIcon,QItemLabel,QSeparator,QPageContainer});qInstall(script, 'directives', {Ripple});\n"],"names":["axios","apiUrl","process","env","POK_API_URL","apiClient","create","baseURL","headers","recClient","REC_API_URL","getRoomPresetCollections","get","getCurrentRoomPresetCollection","selectCurrentRoomPresetCollection","id","put","params","resetRoom","post","getWifiQrImage","responseType","getControlQrImage","getControlQrImage2","getRoomStatus","getInstruments","getInstrumentById","updateInstrumentVolume","volume","patch","updateInstrumentPanorama","panorama","selectInstrumentPreset","preset_id","toggleInstrumentMute","getTunerState","turnTunerOn","turnTunerOff","getTuning","api_startRecording","name","start_time","api_stopRecording","api_playRecording","api_deleteRecording","delete","api_getRecordings","api_getRecorderStatus","api_stopPlayback","defineStore","api","useInstrumentStore","state","isRecorderActive","isBackendAvailable","selectedInstrumentId","selectedInstrumentName","selectedInstrumentType","selectedPresetCollectionName","isPreventScreenDimming","roomStatus","actions","togglePreventScreenDimming","setPreventScreenDimming","value","checkBackendAvailability","console","log","response","then","status","data","updateStore","catch","error","setSelectedInstrument","type","setPresetCollection","setRecorderActive","getters","getSelectedPresetCollectionName","getSelectedInstrumentId","getSelectedInstrumentName","getSelectedInstrumentType","selectedInstrumentHasTuner","getRecorderActive","wakeLock","requestWakeLock","navigator","request","err","message","releaseWakeLock","release","ref","computed","onMounted","onBeforeUnmount","useRouter","store","leftDrawerOpen","router","toggleLeftDrawer","goBack","go","openHomePage","window","open","openLiveSessionPage"],"sourceRoot":""}